<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>隨意製作的網頁</title>
    <style>
        body {
            font-family: "Microsoft JhengHei", Arial, sans-serif;
            background: #f0f4f8;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 60px auto;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            padding: 40px;
            text-align: center;
        }
        h1 {
            color: #3498db;
        }
        p {
            color: #555;
            font-size: 1.2em;
        }
        button {
            background: #3498db;
            color: #fff;
            border: none;
            padding: 12px 28px;
            border-radius: 6px;
            font-size: 1em;
            cursor: pointer;
            margin-top: 24px;
            transition: background 0.2s;
        }
        button:hover {
            background: #217dbb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>歡迎來到我的網頁！</h1>
        <p>這是一個隨意製作的簡單 HTML 範例。</p>
        
        <!-- Firebase App (核心檔案) -->
<script src="https://www.gstatic.com/firebasejs/9.x.x/firebase-app.js"></script>
<!-- Firebase Cloud Messaging -->
<script src="https://www.gstatic.com/firebasejs/9.x.x/firebase-messaging.js"></script>

<script>
  // 初始化Firebase設定（替換成自己的設定）
  const firebaseConfig = {
    apiKey: "AIzaSyCppoyrgeZsWad4Zss93GdjjTdlCybn5Zk",
    authDomain: "so101-f8079.firebaseapp.com",
    projectId: "so101-f8079",
    storageBucket: "so101-f8079.firebasestorage.app",
    messagingSenderId: "1035056506659",
    appId: "1:1035056506659:web:93a76861ae259218bb8e96",
    measurementId: "G-T9EQSHWP55"
  };
  const app = firebase.initializeApp(firebaseConfig);

  // 初始化Firebase Messaging
  const messaging = firebase.messaging();

  // 請求使用者允許推播通知
  Notification.requestPermission().then((permission) => {
    if (permission === 'granted') {
      console.log("推播權限允許");
      messaging.getToken({ vapidKey: 'BGfelfswFUZMdLRyivB1nLI4QNKQIR7ZGP1_9AcDWq1GkTJHLwcUNPPcQAgXk1xH2mSrW5UH-RX-5fX1Z8XejBw' }).then((token) => {
        console.log("Device token:", token);
        // 這個token用來識別裝置，稍後需在伺服器儲存與使用
      });
    }
  });

  // 處理接收訊息
  messaging.onMessage((payload) => {
    console.log('Message received.', payload);
    // 可用Notification API顯示通知
    new Notification(payload.notification.title, {
      body: payload.notification.body,
    });
  });

  document.querySelector('button').onclick = function() {
    fetch('https://so101-f8079-default-rtdb.firebaseio.com/notify.json', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ time: Date.now() })
    });
  }
</script>
<button onclick="alert('你好，世界！')">點我一下</button>
    </div>
</body>
</html>