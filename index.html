const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();

  // 設定語言為中文
  recognition.lang = 'zh-TW';

// 設定為連續模式
recognition.continuous = true;

// 設定為顯示中間結果
recognition.interimResults = true;

// 開始語音識別
recognition.start();

// 當結果返回時觸發
recognition.onresult = function(event) {
    let finalTranscript = '';
    let interimTranscript = '';

    // 解析結果
    for (let i = event.resultIndex; i < event.results.length; i++) {
        const result = event.results[i];
        if (result.isFinal) {
            finalTranscript += result[0].transcript;
        } else {
            interimTranscript += result[0].transcript;
        }
    }

    console.log('即時結果:', interimTranscript);
    console.log('最終結果:', finalTranscript);
};

// 當語音識別結束後處理
recognition.onend = function() {
  // 重新啟動識別以保持持續監聽
  recognition.start();
};
<audio controls autoplay src="laughing-dog-meme.mp3"></audio>

